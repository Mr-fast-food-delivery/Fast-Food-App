{"uid":"ef6cbce619ea330c","name":"test_INT_AUTH_07b_admin_can_access_admin_api","fullName":"src.test.integration.auth_module.test_auth_authorization#test_INT_AUTH_07b_admin_can_access_admin_api","historyId":"82c2158ab2558c134f3106a8a4b9e466","time":{"start":1765880001372,"stop":1765880001372,"duration":0},"status":"failed","statusMessage":"AssertionError: Login response invalid: {}\nassert 'data' in {}","statusTrace":"login_token_factory = <function login_token_factory.<locals>._login at 0x7f9adadda660>\n\n    @pytest.fixture\n    def admin_token(login_token_factory):\n        \"\"\"JWT token cá»§a user ADMIN\"\"\"\n>       return login_token_factory(\"ADMIN\")\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nsrc/test/conftest.py:134: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nrole = 'ADMIN'\n\n    def _login(role: str):\n        user = register_user_factory(role)\n    \n        res = requests.post(\n            f\"{base_url}/auth/login\",\n            json={\n                \"email\": user[\"email\"],\n                \"password\": user[\"password\"]\n            }\n        )\n    \n        assert res.status_code == 200\n    \n        body = safe_json(res)\n>       assert \"data\" in body, f\"Login response invalid: {body}\"\nE       AssertionError: Login response invalid: {}\nE       assert 'data' in {}\n\nsrc/test/conftest.py:113: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1765880001372,"stop":1765880001372,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"admin_token","time":{"start":1765880001373,"stop":1765880001542,"duration":169},"status":"failed","statusMessage":"AssertionError: Login response invalid: {}\nassert 'data' in {}\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/Fast-Food-App/Fast-Food-App/backend/src/test/conftest.py\", line 134, in admin_token\n    return login_token_factory(\"ADMIN\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/Fast-Food-App/Fast-Food-App/backend/src/test/conftest.py\", line 113, in _login\n    assert \"data\" in body, f\"Login response invalid: {body}\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"register_user_factory","time":{"start":1765880001373,"stop":1765880001373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"login_token_factory","time":{"start":1765880001373,"stop":1765880001373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"parentSuite","value":"src.test.integration.auth_module"},{"name":"suite","value":"test_auth_authorization"},{"name":"host","value":"runnervm6qbrg"},{"name":"thread","value":"3031-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"src.test.integration.auth_module.test_auth_authorization"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"ef6cbce619ea330c.json","parameterValues":[]}