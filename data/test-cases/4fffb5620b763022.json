{"uid":"4fffb5620b763022","name":"test_INT_AUTH_10_idempotent_deactivate","fullName":"src.test.integration.auth_module.test_user_deactivate#test_INT_AUTH_10_idempotent_deactivate","historyId":"927da332ba8301830c35d8a5e9e28cae","time":{"start":1765877850071,"stop":1765877850071,"duration":0},"status":"failed","statusMessage":"AssertionError: Expected JSON response, got: None\nassert False\n +  where False = <built-in method startswith of str object at 0x7f019733fba0>('application/json')\n +    where <built-in method startswith of str object at 0x7f019733fba0> = ''.startswith\n +      where '' = get('Content-Type', '')\n +        where get = {'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'X-Content-Type-Options': 'nosniff',...'Content-Length': '0', 'Date': 'Tue, 16 Dec 2025 09:37:30 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}.get\n +          where {'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'X-Content-Type-Options': 'nosniff',...'Content-Length': '0', 'Date': 'Tue, 16 Dec 2025 09:37:30 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} = <Response [200]>.headers","statusTrace":"base_url = 'http://localhost:8091/api'\nregister_user = {'address': 'HCM', 'email': 'ci_863c241f4f4f4e6da6996b8ab1b9d5ec@test.com', 'name': 'CI User', 'password': 'password123', ...}\n\n    @pytest.fixture\n    def login_token(base_url, register_user):\n        res = requests.post(\n            f\"{base_url}/auth/login\",\n            json={\n                \"email\": register_user[\"email\"],\n                \"password\": register_user[\"password\"]\n            }\n        )\n    \n        assert res.status_code == 200\n>       body = assert_json_response(res)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n\nsrc/test/conftest.py:72: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nres = <Response [200]>\n\n    def assert_json_response(res):\n>       assert res.headers.get(\"Content-Type\", \"\").startswith(\"application/json\"), \\\n            f\"Expected JSON response, got: {res.headers.get('Content-Type')}\"\nE       AssertionError: Expected JSON response, got: None\nE       assert False\nE        +  where False = <built-in method startswith of str object at 0x7f019733fba0>('application/json')\nE        +    where <built-in method startswith of str object at 0x7f019733fba0> = ''.startswith\nE        +      where '' = get('Content-Type', '')\nE        +        where get = {'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'X-Content-Type-Options': 'nosniff',...'Content-Length': '0', 'Date': 'Tue, 16 Dec 2025 09:37:30 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}.get\nE        +          where {'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'X-Content-Type-Options': 'nosniff',...'Content-Length': '0', 'Date': 'Tue, 16 Dec 2025 09:37:30 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} = <Response [200]>.headers\n\nsrc/test/conftest.py:13: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"register_user","time":{"start":1765877850072,"stop":1765877850160,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"unique_email","time":{"start":1765877850072,"stop":1765877850072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1765877850072,"stop":1765877850072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"register_payload","time":{"start":1765877850072,"stop":1765877850072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"login_token","time":{"start":1765877850160,"stop":1765877850244,"duration":84},"status":"failed","statusMessage":"AssertionError: Expected JSON response, got: None\nassert False\n +  where False = <built-in method startswith of str object at 0x7f019733fba0>('application/json')\n +    where <built-in method startswith of str object at 0x7f019733fba0> = ''.startswith\n +      where '' = get('Content-Type', '')\n +        where get = {'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'X-Content-Type-Options': 'nosniff',...'Content-Length': '0', 'Date': 'Tue, 16 Dec 2025 09:37:30 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}.get\n +          where {'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'X-Content-Type-Options': 'nosniff',...'Content-Length': '0', 'Date': 'Tue, 16 Dec 2025 09:37:30 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} = <Response [200]>.headers\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/Fast-Food-App/Fast-Food-App/backend/src/test/conftest.py\", line 72, in login_token\n    body = assert_json_response(res)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/Fast-Food-App/Fast-Food-App/backend/src/test/conftest.py\", line 13, in assert_json_response\n    assert res.headers.get(\"Content-Type\", \"\").startswith(\"application/json\"), \\\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"parentSuite","value":"src.test.integration.auth_module"},{"name":"suite","value":"test_user_deactivate"},{"name":"host","value":"runnervm6qbrg"},{"name":"thread","value":"3011-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"src.test.integration.auth_module.test_user_deactivate"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"4fffb5620b763022.json","parameterValues":[]}